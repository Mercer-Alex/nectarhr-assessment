import{d as g,r,f as N,g as B,c as o,h as F,a as l,i as $,j,k as i,w as v,l as C,m as k,F as y,n as c,t as s,v as O,o as u,b as E,_ as H}from"./index-Db9lts56.js";const I={class:"card"},T={class:"user-table-all"},q={class:"user-table-duplicates"},K={key:0},X={class:"user-table-country"},z=["value"],G=g({__name:"UserList",setup(J){const V=r([]),f=r([]),x=r([]),d=r(""),p=r(2),a=r(!1),m=r("first_name"),b=r("name"),D=["US","CA","UK","UA","DE","MX"],S=N(()=>[...V.value].sort((n,e)=>n[m.value].localeCompare(e[m.value]))),M=N(()=>[...f.value].sort((n,e)=>b.value==="name"?n.name.localeCompare(e.name):e.count-n.count)),A=async()=>{const n=await fetch(`/api/users?active=${a.value}`);V.value=await n.json()},w=async()=>{const n=`/api/users/duplicate-names?count=${p.value}&active=${a.value}`,U=await(await fetch(n)).json();console.log(f),f.value=U.duplicates},L=async()=>{if(!d.value)return;const n=await fetch(`/api/users/by-country/${d.value}?active=${a.value}`);x.value=await n.json()};return B(async()=>{A(),w()}),(n,e)=>{const U=j("H2");return u(),o("div",I,[F(U,null,{default:$(()=>e[7]||(e[7]=[i("User Data")])),_:1}),l("div",T,[e[11]||(e[11]=l("h3",null,"All Users",-1)),l("label",null,[e[9]||(e[9]=i(" Sort by: ")),v(l("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>m.value=t)},e[8]||(e[8]=[l("option",{value:"first_name"},"First Name",-1),l("option",{value:"last_name"},"Last Name",-1)]),512),[[C,m.value]])]),l("label",null,[v(l("input",{type:"checkbox","onUpdate:modelValue":e[1]||(e[1]=t=>a.value=t)},null,512),[[k,a.value]]),e[10]||(e[10]=i(" Only Active "))]),l("button",{onClick:A},"Load All Users"),l("ul",null,[(u(!0),o(y,null,c(S.value,t=>(u(),o("li",{key:t.id},s(t.first_name)+" "+s(t.last_name)+" ("+s(t.country)+") - "+s(t.active?"Active":"Inactive"),1))),128))])]),l("div",q,[l("h3",null,"Duplicate User Names (Min Count: "+s(p.value)+")",1),l("label",null,[e[12]||(e[12]=i(" Min Count: ")),v(l("input",{type:"number","onUpdate:modelValue":e[2]||(e[2]=t=>p.value=t),min:"1"},null,512),[[O,p.value,void 0,{number:!0}]])]),l("label",null,[v(l("input",{type:"checkbox","onUpdate:modelValue":e[3]||(e[3]=t=>a.value=t)},null,512),[[k,a.value]]),e[13]||(e[13]=i(" Only Active "))]),l("label",null,[e[15]||(e[15]=i(" Sort by: ")),v(l("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>b.value=t)},e[14]||(e[14]=[l("option",{value:"name"},"Name",-1),l("option",{value:"count"},"Count",-1)]),512),[[C,b.value]])]),l("button",{onClick:w},"Load Duplicates"),l("ul",null,[(u(!0),o(y,null,c(M.value,t=>(u(),o("li",{key:t.name},[i(s(t.name)+" â€” Appeared "+s(t.count)+" time",1),t.count>1?(u(),o("span",K,"s")):E("",!0)]))),128))])]),l("div",X,[e[18]||(e[18]=l("h3",null,"Users by Country",-1)),v(l("select",{"onUpdate:modelValue":e[5]||(e[5]=t=>d.value=t),onChange:L},[e[16]||(e[16]=l("option",{disabled:"",value:""},"Select a country",-1)),(u(),o(y,null,c(D,t=>l("option",{key:t,value:t},s(t),9,z)),64))],544),[[C,d.value]]),l("label",null,[v(l("input",{type:"checkbox","onUpdate:modelValue":e[6]||(e[6]=t=>a.value=t)},null,512),[[k,a.value]]),e[17]||(e[17]=i(" Only Active "))]),l("ul",null,[(u(!0),o(y,null,c(x.value,t=>(u(),o("li",{key:t.id},s(t.first_name)+" "+s(t.last_name)+"s ",1))),128))])])])}}}),Q=H(G,[["__scopeId","data-v-8ae7f942"]]);export{Q as default};
