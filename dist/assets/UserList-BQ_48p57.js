import{d as x,r as u,f as A,c as l,g as D,a as s,h as M,i as V,F as c,j as d,t as n,k as v,w as f,v as N,l as g,m as B,o as a,b as L,_ as h}from"./index-BoqJP82X.js";const j={class:"card"},S={class:"user-table-all"},$={class:"user-table-duplicates"},E={key:0},F={class:"user-table-country"},H=["value"],I=x({__name:"UserList",setup(T){const C=u([]),p=u([]),U=u([]),i=u(""),r=u(2),m=u(!1),k=["US","CA","UK","UA","DE","MX"],b=async()=>{const o=await fetch("/api/users");C.value=await o.json()},_=async()=>{const o=`/api/users/duplicate-names?count=${r.value}&active=${m.value}`,y=await(await fetch(o)).json();console.log(p),p.value=y.duplicates},w=async()=>{if(!i.value)return;const o=await fetch(`/api/users/by-country/${i.value}`);U.value=await o.json()};return A(async()=>{b(),_()}),(o,t)=>{const y=V("H2");return a(),l("div",j,[D(y,null,{default:M(()=>t[3]||(t[3]=[v("User Data")])),_:1}),s("div",S,[t[4]||(t[4]=s("h3",null,"All Users",-1)),s("button",{onClick:b},"Load All Users"),s("ul",null,[(a(!0),l(c,null,d(C.value,e=>(a(),l("li",{key:e.id},n(e.first_name)+" "+n(e.last_name)+" ("+n(e.country)+") - "+n(e.active?"Active":"Inactive"),1))),128))])]),s("div",$,[s("h3",null,"Duplicate User Names (Min Count: "+n(r.value)+")",1),s("label",null,[t[5]||(t[5]=v(" Min Count: ")),f(s("input",{type:"number","onUpdate:modelValue":t[0]||(t[0]=e=>r.value=e),min:"1"},null,512),[[N,r.value,void 0,{number:!0}]])]),s("label",null,[f(s("input",{type:"checkbox","onUpdate:modelValue":t[1]||(t[1]=e=>m.value=e)},null,512),[[g,m.value]]),t[6]||(t[6]=v(" Only Active "))]),s("button",{onClick:_},"Load Duplicates"),s("ul",null,[(a(!0),l(c,null,d(p.value,e=>(a(),l("li",{key:e.name},[v(n(e.name)+" â€” Appeared "+n(e.count)+" time",1),e.count>1?(a(),l("span",E,"s")):L("",!0)]))),128))])]),s("div",F,[t[8]||(t[8]=s("h3",null,"Users by Country",-1)),f(s("select",{"onUpdate:modelValue":t[2]||(t[2]=e=>i.value=e),onChange:w},[t[7]||(t[7]=s("option",{disabled:"",value:""},"Select a country",-1)),(a(),l(c,null,d(k,e=>s("option",{key:e,value:e},n(e),9,H)),64))],544),[[B,i.value]]),s("ul",null,[(a(!0),l(c,null,d(U.value,e=>(a(),l("li",{key:e.id},n(e.first_name)+" "+n(e.last_name)+"s ",1))),128))])])])}}}),K=h(I,[["__scopeId","data-v-83576866"]]);export{K as default};
