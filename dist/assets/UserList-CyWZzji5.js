import{d as V,r as u,f as D,c as a,g as M,a as s,h as S,i as _,j as r,w as v,k,F as p,l as c,t as l,v as L,m as g,o,b as x,_ as B}from"./index-BY4K08qJ.js";const F={class:"card"},j={class:"user-table-all"},$={class:"user-table-duplicates"},E={key:0},H={class:"user-table-country"},I=["value"],T=V({__name:"UserList",setup(q){const w=u([]),m=u([]),U=u([]),i=u(""),d=u(2),y=u(!1),A=["US","CA","UK","UA","DE","MX"],b=async()=>{const n=await fetch("/api/users");w.value=await n.json()},C=async()=>{const n=`/api/users/duplicate-names?count=${d.value}&active=${y.value}`,f=await(await fetch(n)).json();console.log(m),m.value=f.duplicates},N=async()=>{if(!i.value)return;const n=await fetch(`/api/users/by-country/${i.value}`);U.value=await n.json()};return D(async()=>{b(),C()}),(n,t)=>{const f=_("H2");return o(),a("div",F,[M(f,null,{default:S(()=>t[4]||(t[4]=[r("User Data")])),_:1}),s("div",j,[t[7]||(t[7]=s("h3",null,"All Users",-1)),s("label",null,[t[6]||(t[6]=r(" Sort by: ")),v(s("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>n.userSortField=e)},t[5]||(t[5]=[s("option",{value:"first_name"},"First Name",-1),s("option",{value:"last_name"},"Last Name",-1)]),512),[[k,n.userSortField]])]),s("button",{onClick:b},"Load All Users"),s("ul",null,[(o(!0),a(p,null,c(n.sortedUsers,e=>(o(),a("li",{key:e.id},l(e.first_name)+" "+l(e.last_name)+" ("+l(e.country)+") - "+l(e.active?"Active":"Inactive"),1))),128))])]),s("div",$,[s("h3",null,"Duplicate User Names (Min Count: "+l(d.value)+")",1),s("label",null,[t[8]||(t[8]=r(" Min Count: ")),v(s("input",{type:"number","onUpdate:modelValue":t[1]||(t[1]=e=>d.value=e),min:"1"},null,512),[[L,d.value,void 0,{number:!0}]])]),s("label",null,[v(s("input",{type:"checkbox","onUpdate:modelValue":t[2]||(t[2]=e=>y.value=e)},null,512),[[g,y.value]]),t[9]||(t[9]=r(" Only Active "))]),s("button",{onClick:C},"Load Duplicates"),s("ul",null,[(o(!0),a(p,null,c(m.value,e=>(o(),a("li",{key:e.name},[r(l(e.name)+" â€” Appeared "+l(e.count)+" time",1),e.count>1?(o(),a("span",E,"s")):x("",!0)]))),128))])]),s("div",H,[t[11]||(t[11]=s("h3",null,"Users by Country",-1)),v(s("select",{"onUpdate:modelValue":t[3]||(t[3]=e=>i.value=e),onChange:N},[t[10]||(t[10]=s("option",{disabled:"",value:""},"Select a country",-1)),(o(),a(p,null,c(A,e=>s("option",{key:e,value:e},l(e),9,I)),64))],544),[[k,i.value]]),s("ul",null,[(o(!0),a(p,null,c(U.value,e=>(o(),a("li",{key:e.id},l(e.first_name)+" "+l(e.last_name)+"s ",1))),128))])])])}}}),O=B(T,[["__scopeId","data-v-461eaea1"]]);export{O as default};
