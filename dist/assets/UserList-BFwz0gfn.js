import{d as V,r as o,f as x,c as l,g as D,a as s,h as M,i as L,j as r,w as v,k as _,F as c,l as p,t as n,v as S,m as g,o as a,b as B,_ as j}from"./index-B0ST1n2h.js";const F={class:"card"},$={class:"user-table-all"},E={class:"user-table-duplicates"},H={key:0},I={class:"user-table-country"},T=["value"],q=V({__name:"UserList",setup(K){const w=o([]),m=o([]),U=o([]),i=o(""),d=o(2),y=o(!1),b=o("first_name");o("name");const A=["US","CA","UK","UA","DE","MX"],C=async()=>{const u=await fetch("/api/users");w.value=await u.json()},k=async()=>{const u=`/api/users/duplicate-names?count=${d.value}&active=${y.value}`,f=await(await fetch(u)).json();console.log(m),m.value=f.duplicates},N=async()=>{if(!i.value)return;const u=await fetch(`/api/users/by-country/${i.value}`);U.value=await u.json()};return x(async()=>{C(),k()}),(u,t)=>{const f=L("H2");return a(),l("div",F,[D(f,null,{default:M(()=>t[4]||(t[4]=[r("User Data")])),_:1}),s("div",$,[t[7]||(t[7]=s("h3",null,"All Users",-1)),s("label",null,[t[6]||(t[6]=r(" Sort by: ")),v(s("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>b.value=e)},t[5]||(t[5]=[s("option",{value:"first_name"},"First Name",-1),s("option",{value:"last_name"},"Last Name",-1)]),512),[[_,b.value]])]),s("button",{onClick:C},"Load All Users"),s("ul",null,[(a(!0),l(c,null,p(u.sortedUsers,e=>(a(),l("li",{key:e.id},n(e.first_name)+" "+n(e.last_name)+" ("+n(e.country)+") - "+n(e.active?"Active":"Inactive"),1))),128))])]),s("div",E,[s("h3",null,"Duplicate User Names (Min Count: "+n(d.value)+")",1),s("label",null,[t[8]||(t[8]=r(" Min Count: ")),v(s("input",{type:"number","onUpdate:modelValue":t[1]||(t[1]=e=>d.value=e),min:"1"},null,512),[[S,d.value,void 0,{number:!0}]])]),s("label",null,[v(s("input",{type:"checkbox","onUpdate:modelValue":t[2]||(t[2]=e=>y.value=e)},null,512),[[g,y.value]]),t[9]||(t[9]=r(" Only Active "))]),s("button",{onClick:k},"Load Duplicates"),s("ul",null,[(a(!0),l(c,null,p(m.value,e=>(a(),l("li",{key:e.name},[r(n(e.name)+" â€” Appeared "+n(e.count)+" time",1),e.count>1?(a(),l("span",H,"s")):B("",!0)]))),128))])]),s("div",I,[t[11]||(t[11]=s("h3",null,"Users by Country",-1)),v(s("select",{"onUpdate:modelValue":t[3]||(t[3]=e=>i.value=e),onChange:N},[t[10]||(t[10]=s("option",{disabled:"",value:""},"Select a country",-1)),(a(),l(c,null,p(A,e=>s("option",{key:e,value:e},n(e),9,T)),64))],544),[[_,i.value]]),s("ul",null,[(a(!0),l(c,null,p(U.value,e=>(a(),l("li",{key:e.id},n(e.first_name)+" "+n(e.last_name)+"s ",1))),128))])])])}}}),X=j(q,[["__scopeId","data-v-6a2c1d76"]]);export{X as default};
