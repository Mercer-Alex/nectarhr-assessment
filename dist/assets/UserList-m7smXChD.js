import{d as L,r as u,f as x,g,c as a,h as B,a as l,i as F,j as _,k as r,w as i,l as U,F as c,m as y,t as s,v as j,n as $,o,b as E,_ as H}from"./index-C_VeAft7.js";const I={class:"card"},T={class:"user-table-all"},q={class:"user-table-duplicates"},K={key:0},O={class:"user-table-country"},X=["value"],z=L({__name:"UserList",setup(G){const k=u([]),f=u([]),w=u([]),d=u(""),v=u(2),m=u(!1),p=u("first_name"),C=u("name"),A=["US","CA","UK","UA","DE","MX"],D=x(()=>[...k.value].sort((n,e)=>n[p.value].localeCompare(e[p.value]))),S=x(()=>[...f.value].sort((n,e)=>C.value==="name"?n.name.localeCompare(e.name):e.count-n.count)),N=async()=>{const n=await fetch(`/api/users&active=${m.value}`);k.value=await n.json()},V=async()=>{const n=`/api/users/duplicate-names?count=${v.value}&active=${m.value}`,b=await(await fetch(n)).json();console.log(f),f.value=b.duplicates},M=async()=>{if(!d.value)return;const n=await fetch(`/api/users/by-country/${d.value}`);w.value=await n.json()};return g(async()=>{N(),V()}),(n,e)=>{const b=_("H2");return o(),a("div",I,[B(b,null,{default:F(()=>e[5]||(e[5]=[r("User Data")])),_:1}),l("div",T,[e[8]||(e[8]=l("h3",null,"All Users",-1)),l("label",null,[e[7]||(e[7]=r(" Sort by: ")),i(l("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>p.value=t)},e[6]||(e[6]=[l("option",{value:"first_name"},"First Name",-1),l("option",{value:"last_name"},"Last Name",-1)]),512),[[U,p.value]])]),l("button",{onClick:N},"Load All Users"),l("ul",null,[(o(!0),a(c,null,y(D.value,t=>(o(),a("li",{key:t.id},s(t.first_name)+" "+s(t.last_name)+" ("+s(t.country)+") - "+s(t.active?"Active":"Inactive"),1))),128))])]),l("div",q,[l("h3",null,"Duplicate User Names (Min Count: "+s(v.value)+")",1),l("label",null,[e[9]||(e[9]=r(" Min Count: ")),i(l("input",{type:"number","onUpdate:modelValue":e[1]||(e[1]=t=>v.value=t),min:"1"},null,512),[[j,v.value,void 0,{number:!0}]])]),l("label",null,[i(l("input",{type:"checkbox","onUpdate:modelValue":e[2]||(e[2]=t=>m.value=t)},null,512),[[$,m.value]]),e[10]||(e[10]=r(" Only Active "))]),l("label",null,[e[12]||(e[12]=r(" Sort by: ")),i(l("select",{"onUpdate:modelValue":e[3]||(e[3]=t=>C.value=t)},e[11]||(e[11]=[l("option",{value:"name"},"Name",-1),l("option",{value:"count"},"Count",-1)]),512),[[U,C.value]])]),l("button",{onClick:V},"Load Duplicates"),l("ul",null,[(o(!0),a(c,null,y(S.value,t=>(o(),a("li",{key:t.name},[r(s(t.name)+" â€” Appeared "+s(t.count)+" time",1),t.count>1?(o(),a("span",K,"s")):E("",!0)]))),128))])]),l("div",O,[e[14]||(e[14]=l("h3",null,"Users by Country",-1)),i(l("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>d.value=t),onChange:M},[e[13]||(e[13]=l("option",{disabled:"",value:""},"Select a country",-1)),(o(),a(c,null,y(A,t=>l("option",{key:t,value:t},s(t),9,X)),64))],544),[[U,d.value]]),l("ul",null,[(o(!0),a(c,null,y(w.value,t=>(o(),a("li",{key:t.id},s(t.first_name)+" "+s(t.last_name)+"s ",1))),128))])])])}}}),P=H(z,[["__scopeId","data-v-885c8b88"]]);export{P as default};
