import{d as D,r as o,f as A,c as a,a as l,w as p,F as c,g as d,t as n,h as b,v as M,i as x,j as B,o as u,_ as L}from"./index-Dgy9X6xC.js";const N={class:"card"},V=["value"],g=D({__name:"UserList",setup(j){const y=o([]),m=o([]),f=o([]),r=o(""),i=o(2),v=o(!1),C=["US","CA","UK","UA","DE","MX"],U=async()=>{const s=await fetch("/api/users");y.value=await s.json()},k=async()=>{const s=`/api/users/duplicate-names?count=${i.value}&active=${v.value}`,e=await(await fetch(s)).json();m.value=e.duplicates},w=async()=>{if(!r.value)return;const s=await fetch(`/api/users/by-country/${r.value}`);f.value=await s.json()};return A(async()=>{U(),k()}),(s,t)=>(u(),a("div",N,[t[7]||(t[7]=l("h2",null,"All Users",-1)),l("button",{onClick:U},"Load All Users"),l("ul",null,[(u(!0),a(c,null,d(y.value,e=>(u(),a("li",{key:e.id},n(e.first_name)+" "+n(e.last_name)+" ("+n(e.country)+") - "+n(e.active?"Active":"Inactive"),1))),128))]),l("h2",null,"Duplicate Names (Min Count: "+n(i.value)+")",1),l("label",null,[t[4]||(t[4]=b(" Min Count: ")),p(l("input",{type:"number","onUpdate:modelValue":t[0]||(t[0]=e=>i.value=e),min:"1"},null,512),[[M,i.value,void 0,{number:!0}]])]),l("label",null,[p(l("input",{type:"checkbox","onUpdate:modelValue":t[1]||(t[1]=e=>v.value=e)},null,512),[[x,v.value]]),t[5]||(t[5]=b(" Only Active "))]),l("button",{onClick:t[2]||(t[2]=(...e)=>s.fetchDuplicateUsers&&s.fetchDuplicateUsers(...e))},"Load Duplicates"),l("ul",null,[(u(!0),a(c,null,d(m.value,e=>(u(),a("li",{key:e},n(e),1))),128))]),t[8]||(t[8]=l("h2",null,"Users by Country",-1)),p(l("select",{"onUpdate:modelValue":t[3]||(t[3]=e=>r.value=e),onChange:w},[t[6]||(t[6]=l("option",{disabled:"",value:""},"Select a country",-1)),(u(),a(c,null,d(C,e=>l("option",{key:e,value:e},n(e),9,V)),64))],544),[[B,r.value]]),l("ul",null,[(u(!0),a(c,null,d(f.value,e=>(u(),a("li",{key:e.id},n(e.first_name)+" "+n(e.last_name)+" ("+n(e.country)+") ",1))),128))])]))}}),$=L(g,[["__scopeId","data-v-2dcbb5b0"]]);export{$ as default};
